â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  AZURE BACKEND DEPLOYMENT CHECKLIST - Print & Follow!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ STEP 1: CREATE AZURE APP SERVICE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Go to portal.azure.com
[ ] Click "Create a resource" â†’ "Web App"
[ ] Name: app-polls-api-dev (write yours: ___________________)
[ ] Publish: CODE (not Docker!)
[ ] Runtime: Python 3.12
[ ] OS: Linux
[ ] Region: Same as your database
[ ] Plan: Create new "asp-polls-dev" with B1 tier
[ ] Click "Review + Create" â†’ "Create"
[ ] Wait for deployment (1-2 minutes)

ğŸ“‹ STEP 2: ENABLE WEBSOCKETS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Open your App Service
[ ] Go to: Configuration â†’ General settings
[ ] Set "Web sockets" = ON
[ ] Click Save â†’ Continue

ğŸ“‹ STEP 3: ADD ENVIRONMENT VARIABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Still in Configuration â†’ Application settings tab
[ ] Add these settings (click "+ New application setting"):

    [ ] DATABASE_URL = postgresql+psycopg2://...
        (your Azure PostgreSQL connection string)
    
    [ ] JWT_SECRET = (generate with command below)
        python -c "import secrets; print(secrets.token_urlsafe(32))"
    
    [ ] JWT_EXPIRES_MIN = 15
    
    [ ] REFRESH_EXPIRES_DAYS = 7
    
    [ ] ALLOWED_ORIGINS = http://localhost:5173
        (add your frontend URL later, comma-separated)
    
    [ ] SCM_DO_BUILD_DURING_DEPLOYMENT = true
    
    [ ] PYTHON_VERSION = 3.12

[ ] Click Save â†’ Continue

ğŸ“‹ STEP 4: SET STARTUP COMMAND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Configuration â†’ General settings â†’ Startup Command
[ ] Paste this:
    gunicorn -k uvicorn.workers.UvicornWorker --bind=0.0.0.0:8000 app.main:app
[ ] Click Save â†’ Continue

ğŸ“‹ STEP 5: DOWNLOAD PUBLISH PROFILE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] App Service Overview page
[ ] Click "Get publish profile" button
[ ] Save the .PublishSettings file
[ ] Keep this file - you'll need it for GitHub

ğŸ“‹ STEP 6: SETUP GITHUB SECRETS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Go to: github.com/YOUR_USERNAME/voted
[ ] Settings â†’ Secrets and variables â†’ Actions
[ ] Click "New repository secret"
[ ] Name: AZUREAPPSERVICE_PUBLISHPROFILE_BACKEND
[ ] Value: Paste entire contents of .PublishSettings file
[ ] Click "Add secret"

ğŸ“‹ STEP 7: VERIFY GITHUB WORKFLOW FILE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Check file exists: .github/workflows/deploy-backend.yml
[ ] Open the file
[ ] Change "app-polls-api-dev" to YOUR App Service name
[ ] Save the file

ğŸ“‹ STEP 8: COMMIT AND PUSH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Run these commands:
    git add .
    git commit -m "Setup Azure deployment"
    git push origin main

[ ] Go to GitHub â†’ Actions tab
[ ] Watch the deployment workflow run
[ ] Wait for green checkmark (5-10 minutes)

ğŸ“‹ STEP 9: RUN DATABASE MIGRATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] App Service â†’ SSH (in left menu)
[ ] Wait for SSH to connect
[ ] Run: cd /home/site/wwwroot
[ ] Run: python -m alembic upgrade head
[ ] Should see: "Running upgrade -> 001, Initial migration"
[ ] Type: exit

ğŸ“‹ STEP 10: TEST YOUR DEPLOYMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] Test Health Check:
    Open: https://YOUR-APP-NAME.azurewebsites.net/health
    Should see: {"status": "healthy"}

[ ] Test API Docs:
    Open: https://YOUR-APP-NAME.azurewebsites.net/docs
    Should see: Swagger UI with your endpoints

[ ] Test Registration:
    Use Swagger UI â†’ POST /auth/register
    Or use curl/PowerShell to test

ğŸ“‹ STEP 11: ENABLE MONITORING (OPTIONAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[ ] App Service â†’ Application Insights
[ ] Click "Turn on Application Insights"
[ ] Create new or select existing
[ ] Click Apply

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… DEPLOYMENT COMPLETE!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your backend API is now live at:
https://YOUR-APP-NAME.azurewebsites.net

Next steps:
- Update frontend to use this URL
- Deploy frontend to Azure Static Web Apps
- Update ALLOWED_ORIGINS with frontend URL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TROUBLESHOOTING COMMANDS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

View logs:
  az webapp log tail --name app-polls-api-dev --resource-group rg-polls-dev

Restart app:
  az webapp restart --name app-polls-api-dev --resource-group rg-polls-dev

Update setting:
  az webapp config appsettings set --name app-polls-api-dev --resource-group rg-polls-dev --settings KEY=VALUE

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

